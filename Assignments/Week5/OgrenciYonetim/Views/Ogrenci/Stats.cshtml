@model Dictionary<string, int>

@{
    ViewBag.Title = "Ä°statistikler";
}

<div class="page-header">
    <h2>ðŸ“Š BÃ¶lÃ¼m Ä°statistikleri</h2>
</div>

@if (ViewBag.Hata != null)
{
    <div class="alert alert-error">
        âœ— @ViewBag.Hata
    </div>
}

@if (Model != null && Model.Count > 0)
{
    int toplamOgrenci = Model.Values.Sum();
    
    <div class="stats-summary">
        <div class="stat-card">
            <div class="stat-number">@toplamOgrenci</div>
            <div class="stat-label">Toplam Ã–ÄŸrenci</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-number">@Model.Count</div>
            <div class="stat-label">FarklÄ± BÃ¶lÃ¼m</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-number">@(toplamOgrenci / Model.Count)</div>
            <div class="stat-label">Ortalama Ã–ÄŸrenci/BÃ¶lÃ¼m</div>
        </div>
    </div>

    <div class="table-container">
        <h3>BÃ¶lÃ¼mlere GÃ¶re DaÄŸÄ±lÄ±m</h3>
        <table class="data-table">
            <thead>
                <tr>
                    <th>SÄ±ra</th>
                    <th>BÃ¶lÃ¼m</th>
                    <th>Ã–ÄŸrenci SayÄ±sÄ±</th>
                    <th>YÃ¼zde</th>
                    <th>Grafik</th>
                </tr>
            </thead>
            <tbody>
                @{ int sira = 1; }
                @foreach (var item in Model)
                {
                    double yuzde = (double)item.Value / toplamOgrenci * 100;
                    <tr>
                        <td>@sira</td>
                        <td><strong>@item.Key</strong></td>
                        <td>@item.Value</td>
                        <td>%@yuzde.ToString("F1")</td>
                        <td>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: @yuzde%"></div>
                            </div>
                        </td>
                    </tr>
                    sira++;
                }
            </tbody>
        </table>
    </div>

    <div class="form-actions">
        @Html.ActionLink("â¬… Listeye DÃ¶n", "Index", null, new { @class = "btn btn-secondary" })
    </div>
}
else
{
    <div class="alert alert-info">
        â„¹ HenÃ¼z istatistik verisi bulunmamaktadÄ±r.
    </div>
    <div>
        @Html.ActionLink("â¬… Listeye DÃ¶n", "Index", null, new { @class = "btn btn-secondary" })
    </div>
}

